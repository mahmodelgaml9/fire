# 🚀 دليل إعداد لوحة التحكم - Sphinx Fire CMS

## 📋 نظرة عامة

هذا الدليل يوضح كيفية إعداد لوحة التحكم الجديدة لموقع Sphinx Fire CMS. اللوحة تتضمن نظام إدارة محتوى متقدم مع صلاحيات مختلفة وميزات أمان عالية.

## 🎯 الميزات الرئيسية

- ✅ **نظام تسجيل دخول آمن** مع تشفير كلمات المرور
- ✅ **إدارة الصلاحيات والأدوار** (مدير، محرر، كاتب، مساهم)
- ✅ **سجل العمليات** لتتبع جميع الإجراءات
- ✅ **إدارة المحتوى** (صفحات، خدمات، مشاريع، مدونة)
- ✅ **واجهة مستخدم حديثة** مع Tailwind CSS
- ✅ **دعم اللغتين** العربية والإنجليزية
- ✅ **نظام إشعارات** متقدم

## 📁 الملفات المطلوبة

### ملفات قاعدة البيانات:
- `database/admin_basic_tables.sql` - جداول الأدمن الأساسية
- `database/add_admin_fields.sql` - الحقول الجديدة للجداول الموجودة

### ملفات الإعداد:
- `setup_complete_admin.php` - ملف الإعداد الشامل
- `setup_admin_tables.php` - ملف إعداد الجداول فقط

### ملفات لوحة التحكم:
- `admin/` - مجلد لوحة التحكم الرئيسي
- `admin/login.php` - صفحة تسجيل الدخول
- `admin/dashboard.php` - لوحة التحكم الرئيسية
- `admin/includes/` - ملفات مشتركة

## 🛠️ خطوات الإعداد

### الخطوة 1: تشغيل ملف الإعداد الشامل

1. افتح المتصفح واذهب إلى:
   ```
   http://localhost/FIRE2/setup_complete_admin.php
   ```

2. سيقوم الملف تلقائياً بـ:
   - إنشاء جداول الأدمن الأساسية
   - إضافة الحقول الجديدة للجداول الموجودة
   - التحقق من صحة الإعداد
   - عرض تقرير مفصل

### الخطوة 2: الوصول للوحة التحكم

1. اذهب إلى:
   ```
   http://localhost/FIRE2/admin/
   ```

2. سجل الدخول بـ:
   - **اسم المستخدم:** `admin`
   - **كلمة المرور:** `admin123`

### الخطوة 3: التحقق من الوظائف

1. **لوحة التحكم الرئيسية** - عرض الإحصائيات والنشاطات
2. **إدارة الصفحات** - إضافة وتعديل الصفحات
3. **إدارة الخدمات** - إدارة الخدمات والمشاريع
4. **إدارة المدونة** - إدارة المقالات والمحتوى
5. **إعدادات النظام** - إدارة الإعدادات العامة

## 🗄️ جداول قاعدة البيانات الجديدة

### الجداول الأساسية:
1. **`admin_roles`** - أدوار المستخدمين
2. **`admin_users`** - مستخدمي لوحة التحكم
3. **`admin_logs`** - سجل العمليات
4. **`admin_notifications`** - إشعارات النظام

### الحقول الجديدة للجداول الموجودة:
- **`created_by`** - منشئ المحتوى
- **`updated_by`** - آخر محرر
- **`is_featured`** - مميز
- **`meta_title`** - عنوان SEO
- **`meta_description`** - وصف SEO
- **`meta_keywords`** - كلمات مفتاحية
- **`og_title`** - عنوان Open Graph
- **`og_description`** - وصف Open Graph
- **`og_image`** - صورة Open Graph
- **`canonical_url`** - الرابط الأساسي

## 👥 نظام الأدوار والصلاحيات

### الأدوار المتاحة:
1. **مدير النظام الكامل (super_admin)**
   - جميع الصلاحيات
   - إدارة المستخدمين والأدوار
   - إعدادات النظام

2. **مدير النظام (admin)**
   - إدارة المحتوى الكاملة
   - إدارة الخدمات والمشاريع
   - إدارة المدونة

3. **محرر المحتوى (editor)**
   - تحرير المحتوى
   - إدارة الخدمات والمشاريع
   - إدارة المدونة

4. **كاتب المحتوى (author)**
   - كتابة المحتوى
   - إدارة المدونة

5. **مساهم (contributor)**
   - إضافة محتوى محدود
   - إدارة المدونة فقط

## 🔒 الأمان

### ميزات الأمان المطبقة:
- ✅ تشفير كلمات المرور بـ `password_hash()`
- ✅ حماية من CSRF
- ✅ حماية من SQL Injection
- ✅ حماية من XSS
- ✅ سجل العمليات والأمان
- ✅ التحقق من الصلاحيات
- ✅ جلسات آمنة

### إعدادات الأمان في `.htaccess`:
- حماية الملفات الحساسة
- تعيين headers الأمان
- منع الوصول المباشر للملفات

## 🎨 الواجهة

### التصميم:
- **Tailwind CSS** للتصميم الحديث
- **Font Awesome** للأيقونات
- **تصميم متجاوب** لجميع الأجهزة
- **دعم RTL** للغة العربية

### المكونات:
- Header ثابت مع إشعارات
- Sidebar قابل للطي
- Content area ديناميكي
- Toast notifications
- Modal dialogs
- Loading overlays

## 📊 الإحصائيات والتقارير

### الإحصائيات المتاحة:
- عدد الصفحات والخدمات
- عدد المشاريع والمقالات
- نشاط المستخدمين
- سجل العمليات

### التقارير:
- تقارير المحتوى
- تقارير الأداء
- تقارير الأمان
- تقارير المستخدمين

## 🔧 استكشاف الأخطاء

### مشاكل شائعة وحلولها:

#### 1. خطأ في تسجيل الدخول:
```
حدث خطأ في النظام. يرجى المحاولة مرة أخرى.
```
**الحل:** تأكد من تشغيل `setup_complete_admin.php` أولاً

#### 2. جداول غير موجودة:
```
Table 'admin_users' doesn't exist
```
**الحل:** تشغيل ملف الإعداد مرة أخرى

#### 3. خطأ في الصلاحيات:
```
Access denied
```
**الحل:** التحقق من إعدادات الأدوار في قاعدة البيانات

#### 4. مشاكل في الاتصال بقاعدة البيانات:
```
Connection failed
```
**الحل:** التحقق من إعدادات `config.php`

## 📞 الدعم

### للحصول على المساعدة:
1. **مراجعة سجل الأخطاء** في `error_log`
2. **التحقق من إعدادات قاعدة البيانات**
3. **مراجعة ملفات الإعداد**

### معلومات الاتصال:
- **المطور:** Sphinx Fire Team
- **التاريخ:** ديسمبر 2024
- **الإصدار:** 1.0

## 🚀 الخطوات التالية

بعد إعداد لوحة التحكم، يمكنك:

1. **إضافة صفحات جديدة** عبر لوحة التحكم
2. **إدارة الخدمات والمشاريع**
3. **كتابة مقالات للمدونة**
4. **إدارة الشهادات والمناطق**
5. **تخصيص إعدادات الموقع**

---

**ملاحظة:** تأكد من حذف ملفات الإعداد (`setup_*.php`) بعد الانتهاء من الإعداد لأمان النظام.

---

*تم إنشاء هذا الدليل لضمان إعداد سلس وآمن للوحة التحكم* 🎯 